Compiling 12 files with Solc 0.6.6
Compiling 12 files with Solc 0.5.16
Compiling 55 files with Solc 0.8.20
Solc 0.5.16 finished in 206.06ms
Solc 0.6.6 finished in 323.72ms
Solc 0.8.20 finished in 6.76s
Compiler run successful with warnings:
Warning: Contract code size exceeds 24576 bytes (a limit introduced in Spurious Dragon). This contract may not be deployable on mainnet. Consider enabling the optimizer (with a low "runs" value!), turning off revert strings, or using libraries.
lib/v2-periphery/contracts/UniswapV2Router02.sol:12:1: Warning: Contract code size exceeds 24576 bytes (a limit introduced in Spurious Dragon). This contract may not be deployable on mainnet. Consider enabling the optimizer (with a low "runs" value!), turning off revert strings, or using libraries.
contract UniswapV2Router02 is IUniswapV2Router02 {
^ (Relevant source part starts here and spans across multiple lines).
Analysing contracts...
Running tests...

Ran 1 test for script/Interactions.s.sol:CreateRayFiLiquidityPool
[PASS] test() (gas: 166)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 392.80µs (108.30µs CPU time)

Ran 1 test for script/Interactions.s.sol:FullyStakeRayFiUsersMultipleVaults
[PASS] test() (gas: 166)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 588.80µs (155.00µs CPU time)

Ran 1 test for script/Interactions.s.sol:CreateRayFiUsers
[PASS] test() (gas: 188)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 321.30µs (77.80µs CPU time)

Ran 1 test for script/Interactions.s.sol:PartiallyStakeRayFiUsersMultipleVaults
[PASS] test() (gas: 166)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 332.70µs (69.80µs CPU time)

Ran 1 test for script/DeployMockVaults.s.sol:DeployMockVaults
[PASS] test() (gas: 144)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 906.90µs (80.70µs CPU time)

Ran 1 test for script/Interactions.s.sol:FullyStakeRayFiUsersSingleVault
[PASS] test() (gas: 166)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 417.10µs (100.10µs CPU time)

Ran 1 test for script/DeployRayFi.s.sol:DeployRayFi
[PASS] test() (gas: 144)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 1.96ms (100.30µs CPU time)

Ran 1 test for script/Interactions.s.sol:PartiallyStakeRayFiUsersSingleVault
[PASS] test() (gas: 166)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 347.10µs (80.60µs CPU time)

Ran 1 test for test/mocks/MockETH.sol:MockETH
[PASS] test() (gas: 254)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 487.30µs (103.80µs CPU time)

Ran 1 test for script/Interactions.s.sol:FundRayFi
[PASS] test() (gas: 166)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 320.50µs (80.70µs CPU time)

Ran 1 test for script/Interactions.s.sol:AddMockRayFiVaults
[PASS] test() (gas: 166)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 355.30µs (97.10µs CPU time)

Ran 1 test for test/mocks/MockUSDT.sol:MockUSDT
[PASS] test() (gas: 254)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 411.30µs (91.80µs CPU time)

Ran 1 test for test/mocks/MockBTCB.sol:MockBTCB
[PASS] test() (gas: 254)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 416.40µs (92.70µs CPU time)

Ran 1 test for test/mocks/MockBNB.sol:MockBNB
[PASS] test() (gas: 254)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 347.70µs (71.20µs CPU time)

Ran 1 test for script/HelperConfig.s.sol:HelperConfig
[PASS] test() (gas: 188)
Suite result: ok. 1 passed; 0 failed; 0 skipped; finished in 15.88ms (76.70µs CPU time)

Ran 54 tests for test/unit/RayFiTest.t.sol:RayFiTest
[PASS] testCanRetrieveBNBFromContract() (gas: 47427)
[PASS] testCanRetrieveERC20FromContract() (gas: 57292)
[PASS] testCannotAddExistingVaults() (gas: 66510)
[PASS] testCannotAddOrRemoveVaultsDuringDistributions() (gas: 16846183)
[PASS] testCannotAddZeroAddressVaults() (gas: 14581)
[PASS] testCannotRemoveInexistentVaults() (gas: 15021)
[PASS] testCannotRetrieveRayFiFromContract() (gas: 13172)
[PASS] testCannotTransferToRayFiContract() (gas: 10859)
[PASS] testDistributionToSpecificVaultWorks() (gas: 2812054)
[PASS] testERC20WasInitializedCorrectly() (gas: 25279)
[PASS] testEmptyVaultsDoNotBreakDistribution() (gas: 2814162)
[PASS] testOnlyOwnerCanStartDistribution() (gas: 12264)
[PASS] testRayFiWasInitializedCorrectly() (gas: 35056)
[PASS] testReinvetmentWithNonZeroSlippageWorks() (gas: 2805223)
[PASS] testRevertsOnZeroAddressArguments() (gas: 138670)
[PASS] testSetFeeAmounts() (gas: 36406)
[PASS] testSetFeeReceiver() (gas: 36256)
[PASS] testSetIsExcludedFromRewards() (gas: 512520)
[PASS] testSetMinimumTokenBalanceForRewards() (gas: 46718)
[PASS] testSetRewardToken() (gas: 36263)
[PASS] testSetRouter() (gas: 34025)
[PASS] testSetSwapReceiver() (gas: 34160)
[PASS] testStakingIsDisabledDuringDistribution() (gas: 19553689)
[PASS] testStakingRevertsOnInexistentVault() (gas: 43763)
[PASS] testStakingRevertsOnInsufficientBalance() (gas: 243651)
[PASS] testStakingRevertsOnInsufficientInput() (gas: 41520)
[PASS] testStatefulDistributionAndReinvestmentWorksForMultipleUsers() (gas: 34507712)
[PASS] testStatefulDistributionEmitsEvents() (gas: 135008)
[PASS] testStatefulDistributionWorksForMultipleUsers() (gas: 20100710)
[PASS] testStatefulReinvestmentWorksForMultipleUsers() (gas: 26801307)
[PASS] testStatelessDistributionAndReinvestmentWorksForMultipleUsers() (gas: 33942741)
[PASS] testStatelessDistributionEmitsEvents() (gas: 124095)
[PASS] testStatelessDistributionRevertsIfStatefulDistributionIsInProgress() (gas: 16844289)
[PASS] testStatelessDistributionWorksForMultipleUsers() (gas: 19755070)
[PASS] testStatelessReinvestmentEmitsEvents() (gas: 2820970)
[PASS] testStatelessReinvestmentWorksForMultipleUsers() (gas: 26636464)
[PASS] testSwapsTakeFees() (gas: 2551997)
[PASS] testSwapsWork() (gas: 2504134)
[PASS] testTradingFeesRemovalWorks() (gas: 212839)
[PASS] testTransferDuringStatefulDistributionAndReinvestmentForMultipleUsers() (gas: 35155397)
[PASS] testTransferFromRevertsWhenInsufficientAllowance() (gas: 16150)
[PASS] testTransferFromWorksAndTakesFees() (gas: 261886)
[PASS] testTransferRevertsWhenInsufficientBalance() (gas: 27645)
[PASS] testTransferRevertsWhenInvalidReceiver() (gas: 10605)
[PASS] testTransferRevertsWhenInvalidSender() (gas: 14392)
[PASS] testTransferToFeeExemptAddressWorks() (gas: 250332)
[PASS] testTransferWorksAfterPermanentlyDisablingTradingFees() (gas: 215184)
[PASS] testTransferWorksAndTakesFees() (gas: 254152)
[PASS] testTransfersUpdateShareholdersSet() (gas: 254470)
[PASS] testUnstakingRevertsOnInsufficientStakedBalance() (gas: 414615)
[PASS] testUsersCanStake() (gas: 306598)
[PASS] testUsersCanUnstake() (gas: 561377)
[PASS] testVaultsCanBeAdded() (gas: 295151)
[PASS] testVaultsCanBeRemoved() (gas: 27097338)
Suite result: ok. 54 passed; 0 failed; 0 skipped; finished in 1.34s (2.02s CPU time)

Ran 15 tests for test/integration/Interactions.t.sol:InteractionsTest
[PASS] testAddMockRayFiVaults() (gas: 8614868)
[PASS] testCreateRayFiLiquidityPool() (gas: 4058144)
[PASS] testCreateRayFiUsers() (gas: 17895990)
[PASS] testDistributionNoVaults() (gas: 22617962)
[PASS] testDistributionOnlyMultipleVaults() (gas: 76421009)
[PASS] testDistributionOnlySingleVault() (gas: 32754007)
[PASS] testFullyStakeRayFiUsersMultipleVaults() (gas: 60607352)
[PASS] testFullyStakeRayFiUsersSingleVault() (gas: 26280694)
[PASS] testFundRayFi() (gas: 1484958)
[PASS] testMixedDistributionMultipleVaultsStateful() (gas: 85370329)
[PASS] testMixedDistributionMultipleVaultsStateless() (gas: 83450357)
[PASS] testMixedDistributionSingleVault() (gas: 40069610)
[PASS] testMultipleDistributionsNoVaultsStateful() (gas: 40246572)
[PASS] testPartiallyStakeRayFiUsersMultipleVaults() (gas: 64422075)
[PASS] testPartiallyStakeRayFiUsersSingleVault() (gas: 30310469)
Suite result: ok. 15 passed; 0 failed; 0 skipped; finished in 50.44s (3.98s CPU time)

Ran 6 tests for test/fuzz/RayFiFuzz.t.sol:Fuzz
[PASS] testFuzz_cannotStakeMoreThanOwned(uint256) (runs: 260, μ: 14471, ~: 14579)
[PASS] testFuzz_cannotTransferFromMoreThanAllowed(address,uint256) (runs: 260, μ: 12992, ~: 13281)
[PASS] testFuzz_cannotTransferMoreThanOwned(uint256) (runs: 260, μ: 24883, ~: 24956)
[PASS] testFuzz_cannotUnstakeMoreThanOwned(uint256) (runs: 260, μ: 14449, ~: 14557)
[PASS] testFuzz_sumsArePreservedOnStaking(uint256) (runs: 260, μ: 319134, ~: 319292)
[PASS] testFuzz_sumsArePreservedOnTransfers(address,uint256) (runs: 260, μ: 242350, ~: 192711)
Suite result: ok. 6 passed; 0 failed; 0 skipped; finished in 50.45s (3.70s CPU time)

Ran 3 tests for test/fuzz/RayFiInvariants.t.sol:Invariants
[PASS] invariant_gettersShouldNotRevert() (runs: 256, calls: 3840, reverts: 66)
[PASS] invariant_protocolShouldHaveMoreSupplyThanSharesAndMoreTotalThanStakedShares() (runs: 256, calls: 3840, reverts: 66)
[PASS] test() (gas: 210)
Suite result: ok. 3 passed; 0 failed; 0 skipped; finished in 61.30s (110.64s CPU time)

Ran 19 test suites in 61.32s (163.56s CPU time): 93 tests passed, 0 failed, 0 skipped (93 total tests)
| File          | % Lines           | % Statements      | % Branches       | % Funcs         |
|---------------|-------------------|-------------------|------------------|-----------------|
| src/RayFi.sol | 100.00% (351/351) | 100.00% (436/436) | 86.29% (107/124) | 100.00% (53/53) |
| Total         | 100.00% (351/351) | 100.00% (436/436) | 86.29% (107/124) | 100.00% (53/53) |
